import imageio.v2 as imageio
import numpy as np, os

OUT_DIR = "assets"
os.makedirs(OUT_DIR, exist_ok=True)

# Simple Borat-style ASCII art frames
borat_frames = [
    """
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^;;;;;;;;;;;^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^;;;;;;;;;;;;;;;^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^;;;;;;^^^^^;;;;;;^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^;;;;^^^^^^^^^;;;;;;^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;;^^^^^^^^^^^;;;;;;^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^;;;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^^;;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;;^^^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^;;;;^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^;;;;;^^^^^^^^^^;;;^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^;;;;;;;;;;;;;;;;^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^;;;;;;;;;;;;;;^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    """,
    """
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^;;;;;;;;;;;^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^;;;;;;;;;;;;;;;^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^;;;;;;^^^^^;;;;;;^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^;;;;^^^^^^^^^;;;;;;^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;;^^^^^^^^^^^;;;;;;^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^;;;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^^;;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;;^^^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^;;;;^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^;;;;;^^^^^^^^^^;;;^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^;;;;;;;;;;;;;;;;^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^;;;;;;;;;;;;;;^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    """,
    """
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^;;;;;;;;;;;^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^;;;;;;;;;;;;;;;^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^;;;;;;^^^^^;;;;;;^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^;;;;^^^^^^^^^;;;;;;^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;;^^^^^^^^^^^;;;;;;^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^;;;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^^;;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;^^^^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^;;;^^^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^;;;;^^^^^^^^^^^^;;;;^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^;;;;;^^^^^^^^^^;;;^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^;;;;;;;;;;;;;;;;^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^;;;;;;;;;;;;;;^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    """
]

def make_borat_ascii_gif(filename):
    frames = []
    
    # Create multiple frames with slight variations
    for i in range(30):  # 30 frames
        # Select frame pattern (cycling through our patterns)
        frame_idx = i % len(borat_frames)
        ascii_art = borat_frames[frame_idx]
        
        # Convert ASCII to image
        lines = ascii_art.strip().split('\n')
        height = len(lines)
        width = max(len(line) for line in lines)
        
        # Create image
        img = np.zeros((height * 10, width * 6, 3), dtype=np.uint8)
        
        # Fill background
        img[:, :] = (20, 25, 40)  # Dark blue background
        
        # Draw ASCII art
        for y, line in enumerate(lines):
            for x, char in enumerate(line):
                if char not in [' ', '^']:
                    # Draw character pixels
                    color = (255, 255, 255)  # White for characters
                    if char == ';':
                        color = (100, 200, 255)  # Blue for Borat's mustache
                    
                    # Draw a small rectangle for each character
                    for dy in range(8):
                        for dx in range(5):
                            if y * 10 + dy < img.shape[0] and x * 6 + dx < img.shape[1]:
                                img[y * 10 + dy, x * 6 + dx] = color
        
        frames.append(img)
    
    # Save as GIF
    imageio.mimsave(os.path.join(OUT_DIR, filename), frames, duration=0.3, loop=0)

make_borat_ascii_gif("borat_ascii.gif")
print("Borat ASCII GIF created in", OUT_DIR)